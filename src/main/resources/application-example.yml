# Example configuration template for local development.
# Copy to application.yml and fill in environment-specific secrets.
spring:
  application:
    name: project-documentation-generator
  datasource:
    url: jdbc:mysql://localhost:3306/aiddoc?useSSL=false&serverTimezone=UTC
    username: YOUR_DB_USERNAME
    password: YOUR_DB_PASSWORD
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      idle-timeout: 600000
      max-lifetime: 1800000
      connection-timeout: 30000
  cache:
    type: caffeine
  jackson:
    default-property-inclusion: non_null
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      password: YOUR_REDIS_PASSWORD
      database: 0
      timeout: 3000

mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    default-executor-type: simple
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    banner: false
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

caffeine:
  spec: maximumSize=1000,expireAfterAccess=10m

server:
  port: 8080
  servlet:
    context-path: /api

knife4j:
  enable: true
  production: false
  setting:
    language: zh-CN

logging:
  level:
    root: info
    com.codecraft.aidoc: info

ai:
  gateway:
    enabled: true
    provider: deepseek
    openai:
      base-url: https://api.openai.com/v1
      api-key: YOUR_OPENAI_API_KEY
      model: gpt-4o-mini
      max-output-tokens: 512
      temperature: 0.15
      timeout-ms: 20000
    deepseek:
      base-url: https://api.deepseek.com/v1
      api-key: YOUR_DEEPSEEK_API_KEY
      model: deepseek-chat
      max-output-tokens: 512
      temperature: 0.2
      timeout-ms: 20000

web:
  cors:
    allowed-origins:
      - http://localhost:5173
      - http://127.0.0.1:5173
      - http://10.34.10.195:5173
    allowed-methods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
    allowed-headers:
      - "*"
    allow-credentials: false
    max-age: 3600

security:
  jwt:
    secret: YOUR_JWT_SECRET
    expiration-ms: 86400000
  admin:
    username: YOUR_ADMIN_USERNAME
    password: YOUR_ADMIN_PASSWORD
    email: admin@example.com
